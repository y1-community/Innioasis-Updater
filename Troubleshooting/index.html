<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innioasis Updater Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Light mode colors - Modern cohesive palette */
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-tertiary: #64748b;
            --accent-primary: #3b82f6;
            --accent-secondary: #8b5cf6;
            --accent-success: #10b981;
            --accent-warning: #f59e0b;
            --accent-error: #ef4444;
            --border-primary: #e2e8f0;
            --border-secondary: #f1f5f9;
            --shadow-primary: rgba(15, 23, 42, 0.08);
            --shadow-secondary: rgba(15, 23, 42, 0.04);
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-accent: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            --gradient-surface: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }

        [data-theme="dark"] {
            /* Dark mode colors - Modern cohesive palette */
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #ffffff;
            --text-secondary: #f1f5f9;
            --text-tertiary: #e2e8f0;
            --accent-primary: #60a5fa;
            --accent-secondary: #a78bfa;
            --accent-success: #34d399;
            --accent-warning: #fbbf24;
            --accent-error: #f87171;
            --border-primary: #475569;
            --border-secondary: #334155;
            --shadow-primary: rgba(0, 0, 0, 0.4);
            --shadow-secondary: rgba(0, 0, 0, 0.2);
            --gradient-primary: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            --gradient-secondary: linear-gradient(135deg, #334155 0%, #475569 100%);
            --gradient-accent: linear-gradient(135deg, #60a5fa 0%, #a78bfa 100%);
            --gradient-surface: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: var(--gradient-primary);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        /* Link Styles - Theme-aware */
        a {
            color: var(--text-secondary);
            text-decoration: underline;
            text-decoration-color: var(--text-tertiary);
            text-underline-offset: 2px;
            transition: all 0.2s ease;
        }

        a:hover {
            color: var(--accent-primary);
            text-decoration-color: var(--accent-primary);
            text-decoration-thickness: 2px;
        }

        a:visited {
            color: var(--text-secondary);
            text-decoration-color: var(--text-tertiary);
        }

        a:focus {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
            border-radius: 2px;
            color: var(--accent-primary);
        }

        /* Dark mode styles */
        body[data-theme="dark"] {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .header-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }

        .header-icon:hover {
            transform: scale(1.05);
        }

        .header-text {
            flex: 1;
            min-width: 300px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(15px);
            font-weight: 600;
            min-width: 120px;
            justify-content: center;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .theme-toggle .icon {
            font-size: 1.3rem;
        }

        .main-content {
            background: var(--gradient-surface);
            border-radius: 24px;
            padding: 40px;
            box-shadow: 0 25px 50px var(--shadow-primary);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-primary);
            transition: all 0.3s ease;
        }


        .platform-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }

        .platform-card {
            background: var(--gradient-surface);
            border: 2px solid var(--border-primary);
            border-radius: 20px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px var(--shadow-secondary);
        }


        .platform-card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-4px);
            box-shadow: 0 12px 28px var(--shadow-primary);
        }

        .platform-card.selected {
            border-color: var(--accent-primary);
            background: var(--gradient-accent);
            color: white;
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .platform-card .icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .platform-card h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .platform-card p {
            font-size: 0.9rem;
            opacity: 0.8;
            line-height: 1.4;
        }

        .platform-card .status {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-success);
        }

        .platform-card .status.coming-soon {
            background: var(--accent-warning);
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .content-section.active {
            display: block;
        }

        .sub-content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .sub-content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--text-primary);
            text-align: center;
        }

        .info-card {
            background: var(--gradient-surface);
            padding: 32px;
            border-radius: 20px;
            border-left: 6px solid var(--accent-primary);
            margin-bottom: 24px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--shadow-secondary);
            border: 1px solid var(--border-primary);
        }


        .info-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 28px var(--shadow-primary);
        }

        .info-card h3 {
            color: var(--accent-primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .info-card ul, .info-card ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .info-card li {
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .code-block {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        body[data-theme="dark"] .code-block {
            background: #2c2c2e;
            border-color: #48484a;
            color: #ffffff;
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--accent-warning);
        }

        body[data-theme="dark"] .warning-box {
            background: linear-gradient(135deg, #3a3a3c, #48484a);
            border-color: #5a5a5c;
            color: #ffffff;
        }

        .warning-box h4 {
            color: var(--accent-warning);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .success-box {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            border: 1px solid #c3e6cb;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--accent-success);
        }

        body[data-theme="dark"] .success-box {
            background: linear-gradient(135deg, #2c2c2e, #3a3a3c);
            border-color: #48484a;
            color: #ffffff;
        }

        .success-box h4 {
            color: var(--accent-success);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .download-btn {
            background: var(--gradient-accent);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 12px 8px;
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
        }

        .download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }

        .download-btn:active {
            transform: translateY(0);
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            color: white;
            opacity: 0.8;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .footer a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .footer a:hover {
            text-decoration: underline;
            opacity: 1;
        }

        /* App Demo Styles */
        .app-demo {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            position: relative;
        }

        .app-window {
            background: var(--gradient-surface);
            border-radius: 16px;
            box-shadow: 0 12px 40px var(--shadow-primary);
            overflow: hidden;
            width: 1200px;
            height: 580px;
            max-width: 100%;
            position: relative;
            transition: all 0.3s ease;
            border: 1px solid var(--border-primary);
        }

        .app-window.expanded {
            width: 1400px;
        }

        .app-window.installation-mode {
            width: 1600px;
        }
        
        .app-window.windows {
            border-radius: 0;
        }
        
        .app-window.mac {
            border-radius: 12px;
        }
        
        .app-content {
            width: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
        }

        


        .app-content {
            display: flex;
            height: 100%;
            min-height: 530px;
        }

        .app-left-panel {
            background: var(--bg-tertiary);
            padding: 24px;
            width: 30%;
            border-right: 1px solid var(--border-primary);
            transition: all 0.3s ease;
        }

        .app-left-panel.hidden {
            display: none;
        }

        .app-right-panel {
            background: var(--bg-secondary);
            padding: 24px;
            width: 70%;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .app-right-panel.expanded {
            width: 100%;
        }

        .app-section {
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .app-section:last-of-type {
            margin-bottom: 24px;
        }

        .app-section label {
            color: var(--text-primary);
            font-size: 12px;
            min-width: 80px;
            font-weight: 500;
        }

        .app-select {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            flex: 1;
            transition: all 0.2s ease;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23FF69B4' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 12px;
            padding-right: 28px;
        }

        .app-select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.2);
        }

        .app-icon {
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            margin-left: 6px;
            box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
            position: relative;
        }

        .app-icon:hover {
            background: #0056CC;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.5);
        }

        .app-icon:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 122, 255, 0.3);
        }

        .app-icon:hover::after {
            content: "Try Type A System Software first. If your scroll wheel doesn't respond after installation, install one of the Type B options.";
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            max-width: 300px;
            white-space: normal;
            text-align: center;
            box-shadow: 0 4px 12px var(--shadow-primary);
            border: 1px solid var(--border-primary);
            z-index: 1000;
            pointer-events: none;
        }

        .app-btn-small {
            background: #8E8E93;
            color: #ffffff;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
            margin-left: 4px;
        }

        .app-btn-small:hover {
            background: var(--accent-primary);
            opacity: 0.8;
            transform: translateY(-1px);
        }

        .app-rom-list {
            background: var(--gradient-surface);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 16px;
            margin: 24px 0;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: 0 2px 8px var(--shadow-secondary);
        }

        .app-rom-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 14px 18px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .app-rom-item.selected {
            background: #6B73FF;
            border-color: #6B73FF;
            color: #ffffff;
        }

        .app-rom-item:hover {
            background: var(--bg-secondary);
            border-color: var(--accent-primary);
        }

        .app-rom-item.selected:hover {
            background: var(--accent-secondary);
        }

        .app-rom-item.selected .app-rom-badge,
        .app-rom-item.selected .app-rom-desc {
            color: rgba(255, 255, 255, 0.8);
        }

        .app-rom-day {
            color: var(--text-primary);
            font-weight: 600;
            font-size: 12px;
            display: block;
        }

        .app-rom-info {
            color: var(--text-primary);
            font-size: 10px;
            display: block;
            margin: 2px 0;
        }

        .app-rom-badge {
            font-size: 10px;
            font-weight: 500;
            color: var(--text-primary);
            display: inline-block;
            margin-top: 4px;
        }

        .app-rom-desc {
            color: var(--text-primary);
            font-size: 9px;
            margin-top: 4px;
            line-height: 1.3;
        }

        /* Settings Modal */
        .app-modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            backdrop-filter: blur(2px);
            border-radius: 12px;
        }

        .app-modal {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            max-width: 450px;
            width: 85%;
            max-height: 70vh;
            overflow-y: auto;
            border: 1px solid var(--border-primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            position: relative;
        }

        .app-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-primary);
        }

        .app-modal-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .app-modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .app-modal-close:hover {
            background: var(--bg-tertiary);
        }

        .app-modal-section {
            margin-bottom: 20px;
        }

        .app-modal-section h4 {
            color: var(--text-primary);
            margin-bottom: 12px;
            font-size: 14px;
            font-weight: 600;
        }

        .app-modal-checkbox {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .app-modal-checkbox input[type="checkbox"] {
            margin-right: 8px;
        }

        .app-modal-checkbox label {
            color: var(--text-primary);
            font-size: 14px;
            cursor: pointer;
        }

        .app-modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid var(--border-primary);
        }

        .app-modal-tools-section {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 20px;
        }

        .app-modal-tool-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }

        .app-modal-tool-btn-primary {
            background: #8B5CF6;
            color: white;
            border: 2px solid #8B5CF6;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }

        .app-modal-tool-btn-primary:hover {
            background: #7C3AED;
            border-color: #7C3AED;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
            transform: translateY(-1px);
        }

        .app-modal-tool-btn-secondary {
            background: #374151;
            color: white;
            border: 1px solid #4B5563;
        }

        .app-modal-tool-btn-secondary:hover {
            background: #4B5563;
            border-color: #6B7280;
            transform: translateY(-1px);
        }

        .app-modal-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .app-modal-btn-primary {
            background: var(--accent-primary);
            color: white;
        }

        .app-modal-btn-primary:hover {
            opacity: 0.9;
        }

        .app-modal-btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-primary);
        }

        .app-modal-btn-secondary:hover {
            background: var(--border-primary);
        }

        /* Settings Modal Tabs */
        .app-modal-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-primary);
            margin-bottom: 20px;
        }

        .app-modal-tab {
            background: none;
            border: none;
            padding: 12px 20px;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
        }

        .app-modal-tab.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        .app-modal-tab:hover {
            color: var(--text-primary);
        }

        .app-modal-content {
            min-height: 200px;
        }

        .app-modal-tab-content {
            display: block;
        }

        .app-modal-description {
            color: var(--text-secondary);
            font-size: 13px;
            margin-bottom: 16px;
        }

        .app-modal-dropdown-group {
            margin-bottom: 20px;
        }

        .app-modal-label {
            display: block;
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .app-modal-select {
            width: 100%;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-primary);
            color: var(--text-primary);
            padding: 10px 12px;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 16px;
            padding-right: 40px;
        }

        .app-modal-select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .app-modal-radio-group {
            margin-bottom: 16px;
        }

        .app-modal-radio {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .app-modal-radio input[type="radio"] {
            margin-right: 8px;
        }

        .app-modal-radio label {
            color: var(--text-primary);
            font-size: 14px;
            cursor: pointer;
        }

        .app-modal-method-info {
            background: var(--bg-tertiary);
            padding: 12px;
            border-radius: 6px;
            margin-top: 12px;
        }

        .app-modal-method-info p {
            margin: 4px 0;
            font-size: 13px;
            color: var(--text-secondary);
        }

        /* Installation Dialog Styles */
        .app-dialog-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 200;
            backdrop-filter: blur(3px);
            border-radius: 12px;
        }

        .app-dialog {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
            border: 1px solid var(--border-primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            position: relative;
            text-align: center;
        }

        .app-dialog-icon {
            font-size: 32px;
            margin-bottom: 16px;
            display: block;
        }

        .app-dialog-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .app-dialog-message {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 24px;
        }

        .app-dialog-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .app-dialog-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 80px;
        }

        .app-dialog-btn-primary {
            background: var(--accent-primary);
            color: white;
        }

        .app-dialog-btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .app-dialog-btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-primary);
        }

        .app-dialog-btn-secondary:hover {
            background: var(--border-primary);
        }

        .app-download-btn {
            background: #8E8E93;
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 16px;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(142, 142, 147, 0.3);
        }

        .app-download-btn:hover {
            background: #6D6D70;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(142, 142, 147, 0.4);
        }

        .app-download-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 122, 255, 0.3);
        }

        .app-download-btn:disabled {
            background: var(--bg-tertiary);
            color: var(--text-tertiary);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .app-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .app-creator {
            color: var(--text-tertiary);
            font-size: 10px;
            font-weight: 500;
        }

        .app-action-buttons {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .app-action-btn {
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 10px;
            cursor: pointer;
            color: #ffffff;
            transition: all 0.2s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .app-action-btn:hover {
            opacity: 0.8;
            transform: translateY(-1px);
        }

        .app-action-btn.green { background: var(--accent-success); }
        .app-action-btn.red { background: var(--accent-error); }
        .app-action-btn.blue { background: var(--accent-primary); }

        .app-status {
            color: var(--text-primary);
            font-size: 12px;
            margin-bottom: 20px;
            font-weight: 500;
            background: var(--gradient-surface);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 12px 16px;
            box-shadow: 0 2px 8px var(--shadow-secondary);
        }

        .app-status strong {
            font-size: 10px;
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
        }

        .app-getting-ready {
            color: var(--text-primary);
            font-size: 12px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: var(--gradient-surface);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 16px;
            margin-top: 20px;
            box-shadow: 0 2px 8px var(--shadow-secondary);
        }

        .app-getting-ready strong {
            display: block;
            margin-bottom: 16px;
        }

        .app-step {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 11px;
            line-height: 1.5;
        }

        .app-step-icon {
            font-size: 14px;
            margin-top: 2px;
        }
        
        .app-step-image {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            object-fit: contain;
            vertical-align: middle;
        }
        
        .app-instruction-image {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            flex: 1;
            background: var(--gradient-surface);
            border: 1px solid var(--border-primary);
            border-radius: 8px;
            padding: 12px;
            box-shadow: 0 2px 8px var(--shadow-secondary);
        }
        
        .app-main-image {
            max-width: 100%;
            max-height: 250px;
            width: auto;
            height: auto;
            object-fit: contain;
            display: block;
        }

        .app-text-fallback {
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border-primary);
        }

        .app-progress-container {
            margin: 4px 0 0 0;
            background: transparent;
            border-radius: 0;
            padding: 0;
            border: none;
        }

        .app-progress-bar {
            width: 100%;
            height: 3px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
            margin: 2px 0 0 0;
        }

        .app-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-success));
            border-radius: 2px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .app-progress-text {
            color: var(--text-primary);
            font-size: 9px;
            text-align: left;
            margin: 1px 0 0 0;
            line-height: 1.2;
        }

        .app-text-fallback h4 {
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 16px;
        }

        .app-text-fallback p {
            color: var(--text-secondary);
            font-size: 14px;
            margin: 0;
        }
        
        .app-disclaimer {
            font-size: 10px;
            color: var(--text-tertiary);
            font-style: italic;
            margin: 4px 0 8px 0;
            text-align: center;
        }

        .app-version-select {
            margin-top: 8px;
            display: flex;
            gap: 8px;
        }

        .app-version {
            background: #38383a;
            color: #8e8e93;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            cursor: pointer;
        }

        .app-version.selected {
            background: #007aff;
            color: #ffffff;
        }

        .app-labs {
            position: absolute;
            bottom: 16px;
            right: 16px;
            color: #8e8e93;
            font-size: 10px;
            font-weight: 500;
        }

        .app-disclaimer-outside {
            text-align: center;
            font-size: 11px;
            color: var(--text-secondary);
            margin: 20px 0;
            font-style: italic;
        }

        .app-right-panel {
            position: relative;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .platform-selector {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .theme-toggle {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px auto;
            }

            .app-content {
                flex-direction: column;
            }

            .app-left-panel,
            .app-right-panel {
                width: 100%;
            }

            .app-left-panel {
                border-right: none;
                border-bottom: 1px solid #38383a;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <div class="header-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">‚öôÔ∏è</div>
            <div class="header-text">
                <h1>Innioasis Updater Guide</h1>
                <p>Complete guide for users and developers - troubleshooting, features, and development resources</p>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <span class="icon">üåì</span>
                <span>Auto</span>
            </button>
        </div>

        <!-- Section Selector -->
        <div class="platform-selector">
            <div class="platform-card selected" data-platform="users" onclick="selectPlatform('users')">
                <span class="icon">üë•</span>
                <h3>For Users</h3>
                <p>Troubleshooting and usage guide</p>
                <span class="status"></span>
            </div>
            
            <div class="platform-card" data-platform="developers" onclick="selectPlatform('developers')">
                <span class="icon">üë®‚Äçüíª</span>
                <h3>For Developers</h3>
                <p>Development resources and guidelines</p>
                <span class="status"></span>
            </div>
            
            <div class="platform-card" data-platform="rockbox" onclick="selectPlatform('rockbox')">
                <span class="icon">üéµ</span>
                <h3>Rockbox</h3>
                <p>Music player and themes guide</p>
                <span class="status"></span>
            </div>
        </div>

        <!-- Users Content -->
        <div class="content-section active" id="users-content">
                <!-- Quick Start -->
            <div class="info-card">
                    <h3>üöÄ Quick Start</h3>
                    <p>Hey! Here's what you need to know to get started:</p>
                    <ol>
                        <li><strong>Install drivers first</strong> - The app will tell you which ones you need</li>
                        <li><strong>Restart your PC</strong> - This makes sure everything works properly</li>
                        <li><strong>Disconnect your Y1</strong> - Keep it unplugged until the app tells you to connect it</li>
                        <li><strong>Follow the on-screen instructions</strong> - We'll guide you through each step</li>
                </ol>
                    <p>That's it! The app does the heavy lifting for you. üòä</p>
            </div>

                <!-- App Interface Demo -->
            <div class="info-card">
                    <h3>üñ•Ô∏è Try the app out here</h3>
                    <p>Here's how the Innioasis Updater interface works:</p>
                    <div class="app-demo">
                        <div class="app-window" id="app-window-demo">
                            <div class="app-content">
                                <div class="app-left-panel">
                                    <div class="app-section">
                                        <label>Device Type:</label>
                                        <select class="app-select" id="device-type-select">
                                            <option value="A" selected>Type A</option>
                                            <option value="B">Type B</option>
                                        </select>
                                        <span class="app-icon" title="Help with device selection" onclick="showDeviceTypeDialog()">‚ùì</span>
                                        <button class="app-btn-small" onclick="openSettingsModal()">Settings</button>
                                    </div>
                                    <div class="app-section">
                                        <label>Device Model:</label>
                                        <select class="app-select" id="device-model-select">
                                            <option value="Y1" selected>Y1</option>
                                        </select>
                                    </div>
                                    <div class="app-section">
                                        <label>Software:</label>
                                        <select class="app-select" id="software-select">
                                            <option value="Original Software" selected>Original Software</option>
                                            <option value="Rockbox ROM">Rockbox ROM</option>
                                        </select>
                                    </div>
                                    <div class="app-rom-list" id="app-rom-list">
                                        <!-- ROM items will be populated by JavaScript -->
                                    </div>
                                    <button class="app-download-btn" id="download-btn" onclick="startInstallDemo()">Download</button>
                                </div>
                                <div class="app-right-panel">
                                    <div class="app-header">
                                        <span class="app-creator">Created by Ryan Specter of Team Slide</span>
                                        <div class="app-action-buttons">
                                            <button class="app-action-btn green">üì¶ Install from .zip</button>
                                            <button class="app-action-btn red">üîó r/innioasis</button>
                                            <button class="app-action-btn blue">‚ùì Get Help</button>
                                            <button class="app-action-btn red">üì∞ News / Tips</button>
                                        </div>
                                    </div>
                                    <div class="app-status">
                                        <strong>Status</strong>
                                        <div id="status-text">Ready</div>
                                        <!-- Progress Bar Container -->
                                        <div class="app-progress-container" id="progress-container" style="display: none;">
                                            <div class="app-progress-text" id="progress-text">Downloading...</div>
                                            <div class="app-progress-bar">
                                                <div class="app-progress-fill" id="progress-fill"></div>
                                            </div>
                                            <div class="app-progress-text" id="progress-details">0% (0MB / 0MB)</div>
                                        </div>
                                    </div>
                                    <div class="app-getting-ready" id="getting-ready-section">
                                        <strong>Getting Ready:</strong>
                                        <div class="app-instruction-image">
                                            <img src="https://innioasis.app/mtkclient/gui/images/presteps.png" alt="Installation instructions" class="app-main-image">
                                        </div>
                                    </div>
                                    <div class="app-labs">Labs OFF</div>
                                </div>
                                
                                <!-- Settings Modal -->
                                <div class="app-modal-overlay" id="settings-modal" style="display: none;">
                                    <div class="app-modal">
                                        <div class="app-modal-header">
                                            <h3 class="app-modal-title">Settings</h3>
                                            <button class="app-modal-close" onclick="closeSettingsModal()">&times;</button>
                                        </div>
                                        <div class="app-modal-tabs">
                                            <button class="app-modal-tab active" onclick="switchSettingsTab('installation')">Installation</button>
                                            <button class="app-modal-tab" onclick="switchSettingsTab('tools')">Tools</button>
                                        </div>
                                        <div class="app-modal-content">
                                            <div class="app-modal-tab-content" id="installation-tab">
                                                <div class="app-modal-description">
                                                    <h4>Installation Settings</h4>
                                                    <p>This setting will be used for the next firmware installation.</p>
                                                </div>
                                                <div class="app-modal-dropdown-group">
                                                    <label for="install-method-select" class="app-modal-label">Installation Method:</label>
                                                    <select id="install-method-select" class="app-modal-select">
                                                        <option value="method1" selected>Method 1 - Guided (Step-by-step with visual guidance)</option>
                                                        <option value="method2">Method 2 - MTKclient (Direct technical installation)</option>
                                                    </select>
                                                </div>
                                                <div class="app-modal-checkbox-group">
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="always-use-method" checked>
                                                        <span class="checkbox-custom"></span>
                                                        Always use this method for future installations
                                                    </label>
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="debug-mode">
                                                        <span class="checkbox-custom"></span>
                                                        Enable Debug Mode (Labs)
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="app-modal-tab-content" id="tools-tab" style="display: none;">
                                                <div class="app-modal-description">
                                                    <h4>Tools & Utilities</h4>
                                                    <p>Manage additional tools and shortcuts.</p>
                                                </div>
                                                <div class="app-modal-tools-section">
                                                    <button class="app-modal-tool-btn app-modal-tool-btn-primary" onclick="launchY1RemoteControl()">
                                                        Launch Y1 Remote Control
                                                    </button>
                                                    <button class="app-modal-tool-btn app-modal-tool-btn-secondary" onclick="checkForUtilityUpdates()">
                                                        Check for Utility Updates
                                                    </button>
                                                </div>
                                                <div id="windows-only-section">
                                                    <h5>Windows Shortcuts</h5>
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="desktop-shortcut" checked>
                                                        <span class="checkbox-custom"></span>
                                                        Create desktop shortcut
                                                    </label>
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="start-menu-shortcut" checked>
                                                        <span class="checkbox-custom"></span>
                                                        Add to Start Menu
                                                    </label>
                                                </div>
                                                <div class="app-modal-checkbox-group">
                                                    <h5>Advanced Options</h5>
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="auto-update" checked>
                                                        <span class="checkbox-custom"></span>
                                                        Check for updates automatically
                                                    </label>
                                                    <label class="app-modal-checkbox">
                                                        <input type="checkbox" id="verbose-logging">
                                                        <span class="checkbox-custom"></span>
                                                        Enable verbose logging
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="app-modal-buttons">
                                            <button class="app-modal-btn app-modal-btn-secondary" onclick="closeSettingsModal()">Cancel</button>
                                            <button class="app-modal-btn app-modal-btn-primary" onclick="saveSettings()">Save</button>
                                        </div>
                                    </div>
                                </div>
                                
                <!-- Installation Dialog -->
                <div class="app-dialog-overlay" id="install-dialog" style="display: none;">
                    <div class="app-dialog">
                        <span class="app-dialog-icon" id="dialog-icon">‚ö†Ô∏è</span>
                        <h3 class="app-dialog-title" id="dialog-title">Disconnect USB</h3>
                        <p class="app-dialog-message" id="dialog-message">Please disconnect the USB from your Y1 and press OK, then follow the next instructions.</p>
                        <div class="app-dialog-buttons">
                            <button class="app-dialog-btn app-dialog-btn-secondary" onclick="closeInstallDialog()">Cancel</button>
                            <button class="app-dialog-btn app-dialog-btn-primary" onclick="confirmInstallDialog()">OK</button>
                        </div>
                    </div>
                </div>

                <!-- Device Type Selection Dialog -->
                <div class="app-dialog-overlay" id="device-type-dialog" style="display: none;">
                    <div class="app-dialog">
                        <span class="app-dialog-icon">‚ÑπÔ∏è</span>
                        <h3 class="app-dialog-title">Device Type Selection Guide</h3>
                        <div class="app-dialog-message">
                            <p><strong>Type A Devices:</strong> This is the recommended starting point for most users. Install this first to see if it meets your needs.</p>
                            <p><strong>Type B Devices:</strong> If your scroll wheel doesn't respond properly after installing Type A, try one of the Type B options. These are alternative configurations that may resolve scroll wheel issues.</p>
                            <p><strong>Recommendation:</strong> Always start with Type A. Only move to Type B if you experience scroll wheel problems.</p>
                        </div>
                        <div class="app-dialog-buttons">
                            <button class="app-dialog-btn app-dialog-btn-primary" onclick="closeDeviceTypeDialog()">OK</button>
                        </div>
                    </div>
                </div>
                            </div>
                        </div>
                    </div>
                    <p class="app-disclaimer-outside">This is a scaled approximation of the interface, not an exact replica.</p>
                    <p><strong>Key Elements:</strong></p>
                    <ul>
                        <li><strong>Left Panel:</strong> Select your device type, model, and software</li>
                        <li><strong>ROM List:</strong> Choose from available builds (iPod Themes Compatible or 360p)</li>
                        <li><strong>Right Panel:</strong> Follow the step-by-step instructions</li>
                        <li><strong>Status:</strong> Shows when the app is ready for installation</li>
                    </ul>
                </div>

                <!-- Critical Timing -->
                <div class="info-card">
                    <h3>‚ö†Ô∏è The Most Important Thing</h3>
                    <p><strong>Before you start any update:</strong></p>
                    <ol>
                        <li><strong>Unplug your Y1 completely</strong> - No USB cable connected at all</li>
                        <li><strong>Wait for the app to tell you when to plug it in</strong> - Don't guess!</li>
                        <li><strong>If it fails, unplug and try again</strong> - Same timing every time</li>
                </ol>
                    <div class="warning-box">
                        <h4>üí° Why it fails</h4>
                        <p>Most problems happen because the Y1 gets connected too early. The app knows exactly when to connect it - trust us on this one!</p>
                    </div>
            </div>

                <!-- Common Issues -->
            <div class="info-card">
                    <h3>üîß Common Issues & Quick Fixes</h3>
                    <p><strong>App frozen?</strong> Close it with Task Manager (Ctrl+Shift+Esc), then restart and click "Try Again"</p>
                    <p><strong>Missing shortcuts?</strong> Run this in Command Prompt:</p>
                <div class="code-block">"%LocalAppData%\Innioasis Updater\pythonw.exe" updater.py --force</div>
                    <p><strong>Can't install firmware?</strong> Make sure you have the MTK USB Driver installed - this is the only required Windows USB driver for both Method 1 and Method 2 (both now use SP Flash Tool)</p>
                    <p><strong>App won't work at all?</strong> Download firmwares from <a href="https://innioasis.app/firmware.html" target="_blank">innioasis.app/firmware.html</a> and use the troubleshooting shortcuts</p>
            </div>

            <!-- USB Driver Information -->
            <div class="info-card">
                <h3>üîå USB Driver Requirements</h3>
                <p><strong>Required Driver:</strong></p>
                <ul>
                    <li><strong>MTK USB Driver</strong> - Required for both Method 1 and Method 2 installation methods</li>
                </ul>
                <p><strong>Optional Driver:</strong></p>
                <ul>
                    <li><strong>USB Development Kit</strong> - Optional download from <a href="https://innioasis.app/driver_usbdk.msi" target="_blank">innioasis.app/driver_usbdk.msi</a></li>
                    <li><strong>Purpose:</strong> Enables usage of MTKClient on 64-bit Windows 10 and 11 systems</li>
                    <li><strong>Note:</strong> Only needed for advanced users who want to use MTKClient directly</li>
                </ul>
                <div class="success-box">
                    <h4>üí° Driver Installation Tip</h4>
                    <p>For most users, just the MTK USB Driver is sufficient. The USB Development Kit is only needed if you specifically want to use MTKClient tools directly on Windows 10/11 64-bit systems.</p>
                </div>
            </div>


        <!-- Developers Content -->

                <!-- macOS Specific Issues -->
            <div class="info-card">
                    <h3>üçé macOS Specific Issues</h3>
                    <p><strong>App won't open?</strong> Right-click ‚Üí Open, or go to System Preferences ‚Üí Security & Privacy ‚Üí Allow</p>
                    <p><strong>Permission denied?</strong> Grant Terminal/App Store permissions when prompted</p>
                    <p><strong>USB not recognized?</strong> Try a different USB port or cable</p>
                    <p><strong>Homebrew issues?</strong> Run <code>brew update && brew upgrade</code> in Terminal</p>
            </div>

                <!-- Remote Control for macOS -->
            <div class="info-card">
                    <h3>üì± Remote Control Features</h3>
                    <p>After your first update, you can:</p>
                    <ul>
                        <li><strong>Take screenshots</strong> of your Y1</li>
                        <li><strong>Control it remotely</strong> from your Mac</li>
                        <li><strong>Install apps</strong> without touching the device</li>
                </ul>
                    <p>Pretty neat, right? üòé</p>
                </div>
            </div>

            <!-- Linux Subsection -->
            <div class="sub-content-section" id="linux-sub-content">
                <h3 class="section-title">Linux Troubleshooting Guide</h3>
                
            <div class="info-card">
                    <h3>üêß Coming Soon</h3>
                    <p>We're working on Linux support! In the meantime:</p>
                    <ul>
                        <li>Check the main <a href="https://github.com/team-slide/Innioasis-Updater" target="_blank">GitHub repository</a> for Linux instructions</li>
                        <li>Ubuntu is recommended for the best experience</li>
                        <li>Most Linux distributions should work with manual setup</li>
                </ul>
                    <div class="warning-box">
                        <h4>‚ö†Ô∏è Work in Progress</h4>
                        <p>Linux support is actively being developed. Please check back soon!</p>
                    </div>
                </div>
                </div>
            </div>

        <!-- Developers Content -->
        <div class="content-section" id="developers-content">
            <h2 class="section-title">For Developers - Technical Resources & Guidelines</h2>
            
            <!-- Development Overview -->
            <div class="info-card">
                <h3>üîß Development Overview</h3>
                <p><strong>Innioasis Updater is built with Python and PyQt6, designed to be cross-platform and extensible.</strong></p>
                <p>The application provides a unified interface for firmware management, remote control capabilities, and app deployment for the Innioasis Y1 device. The architecture supports multiple installation methods (both now use SP Flash Tool) and provides a robust framework for developers to extend functionality.</p>
                <p><strong>Key Technical Components:</strong></p>
                <ul>
                    <li><strong>Core Engine:</strong> Python-based with PyQt6 GUI framework</li>
                    <li><strong>Installation Methods:</strong> SP Flash Tool integration (both Method 1 and Method 2 now use SP Flash Tool), user-friendly guidance for included utilities</li>
                    <li><strong>Remote Control:</strong> ADB-based device communication and control</li>
                    <li><strong>Firmware Management:</strong> Automated download, verification, and installation workflows</li>
                    <li><strong>Cross-Platform:</strong> Windows, macOS, and Linux support with platform-specific optimizations</li>
                </ul>
                
                <div class="info-box">
                    <h4>üîß Flashing Protocol Clarification</h4>
                    <p><strong>Custom flashing protocols</strong> refers to user-friendly guidance for the included SP Flash Tool utility for interfacing with the Innioasis Y1's bootloader. Both Method 1 and Method 2 now use SP Flash Tool. These are not custom protocols we've created, but rather simplified interfaces to existing industry-standard flashing tools.</p>
                </div>
            </div>

            <!-- Y1 App Development -->
            <div class="info-card">
                <h3>üì± Y1 App Development Guidelines</h3>
                <p><strong>Target Platform Specifications:</strong></p>
                <ul>
                    <li><strong>Android Version:</strong> Android 4.2.2 (API Level 17)</li>
                    <li><strong>Architecture:</strong> ARM-based processor</li>
                    <li><strong>Display Resolutions:</strong>480x360</li>
                    <li><strong>Storage:</strong> Limited internal storage, internal microSD card acts as large persistent storage drive that survives OS updates / reinstalls</li>
                </ul>
                <p><strong>Development Requirements:</strong></p>
                <ol>
                    <li><strong>Target API Level 17</strong> - Ensure compatibility with Android 4.2.2</li>
                    <li><strong>Optimize for small screens</strong> - Design for 240x320 and 360p resolutions</li>
                    <li><strong>Minimize resource usage</strong> - Limited RAM of 512MB and internal MMC storage of 2GB on Y1</li>
                </ol>
                <div class="success-box">
                    <h4>üì¶ App Distribution Process</h4>
                    <p><strong>To distribute your Y1 app:</strong></p>
                    <ol>
                        <li><strong>Release as APK on GitHub</strong> - Create a public repository with your APK</li>
                        <li><strong>Submit to Slidia</strong> - Add your app to the Team-Slide/Slidia manifest</li>
                        <li><strong>Include documentation</strong> - Provide installation and usage instructions</li>
                        <li><strong>Test thoroughly</strong> - Ensure compatibility with Y1 hardware</li>
                    </ol>
            </div>
        </div>

            <!-- ROM Development -->
            <div class="info-card">
                <h3>üíæ Custom ROM Development</h3>
                <p><strong>Adding Custom ROMs to Innioasis Updater:</strong></p>
                <p>Developers can contribute custom ROMs that will be listed in the Innioasis Updater interface and firmware directory. This requires careful preparation and adherence to specific technical requirements.</p>
                <p><strong>ROM Package Requirements:</strong></p>
                <ul>
                    <li><strong>Create a rom.zip file</strong> containing all necessary flashable files</li>
                    <li><strong>Include SP Flash Tool compatible files</strong> - scatter.txt, preloader, lk, boot, system, etc.</li>
                    <li><strong>Include MTKClient compatible files</strong> - Must support all installation methods</li>
                    <li><strong>Provide comprehensive documentation</strong> - Installation instructions, features, compatibility notes</li>
                </ul>
                <p><strong>Repository Structure:</strong></p>
                <div class="code-block">
your-rom-repo/
‚îú‚îÄ‚îÄ rom.zip                    # All flashable files
‚îú‚îÄ‚îÄ README.md                  # Documentation
‚îú‚îÄ‚îÄ changelog.txt             # Version history
‚îî‚îÄ‚îÄ screenshots/              # Visual documentation
</div>
                <p><strong>Submission Process:</strong></p>
                <ol>
                    <li><strong>Create GitHub release on a ROM specific Repo</strong> with your ROM files</li>
                    <li><strong>Test all installation methods</strong> - SP Flash Tool (Method 1 and 2) and Innioasis Updater</li>
                    <li><strong>Submit pull request</strong> to Team-Slide/Innioasis-Updater with repository details</li>
                    <li><strong>Specify ROM type</strong> - Type A or Type B (must use separate repositories)</li>
                    <li><strong>Include manifest entry</strong> - Provide the XML line for the firmware manifest</li>
                </ol>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è Important Technical Notes</h4>
                    <p><strong>ROM Compatibility Requirements:</strong></p>
                    <ul>
                        <li><strong>Must support all installation methods</strong> - SP Flash Tool (Method 1 and 2) and Innioasis Updater</li>
                        <li><strong>Type A and Type B ROMs</strong> must be in separate repositories</li>
                        <li><strong>Include proper scatter files</strong> for SP Flash Tool compatibility</li>
                        <li><strong>Test on multiple Y1 devices</strong> to ensure compatibility</li>
                    </ul>
                </div>
            </div>

            <!-- Technical Architecture -->
            <div class="info-card">
                <h3>üèóÔ∏è Technical Architecture & Integration</h3>
                <p><strong>Innioasis Updater Architecture Overview:</strong></p>
                <p>The application is designed with modularity and extensibility in mind, allowing developers to easily integrate new features and support additional devices.</p>
                <p><strong>Core Components:</strong></p>
                <ul>
                    <li><strong>Firmware Manager:</strong> Handles download, verification, and installation of firmware packages</li>
                    <li><strong>Device Communication:</strong> ADB-based communication with Y1 devices for remote control and app deployment</li>
                    <li><strong>Installation Engine:</strong> Multi-method installation support (SP Flash Tool for both methods)</li>
                    <li><strong>UI Framework:</strong> PyQt6-based responsive interface with platform-specific optimizations</li>
                    <li><strong>Configuration System:</strong> JSON-based configuration management for user preferences and device settings</li>
                </ul>
                <p><strong>Integration Points for Developers:</strong></p>
                <ul>
                    <li><strong>Plugin System:</strong> Extensible architecture for adding new installation methods</li>
                    <li><strong>API Endpoints:</strong> RESTful API for firmware and app management</li>
                    <li><strong>Manifest System:</strong> XML-based manifest for firmware and app catalog management</li>
                    <li><strong>Remote Control SDK:</strong> Python SDK for developing Y1 remote control applications</li>
                </ul>
            </div>

            <!-- Development Resources -->
            <div class="info-card">
                <h3>üìö Development Resources & Documentation</h3>
                <p><strong>Essential Resources for Y1 Development:</strong></p>
                <ul>
                    <li><strong>GitHub Repository:</strong> <a href="https://github.com/team-slide/Innioasis-Updater" target="_blank">github.com/team-slide/Innioasis-Updater</a></li>
                    <li><strong>Firmware Directory:</strong> <a href="https://innioasis.app/firmware.html" target="_blank">innioasis.app/firmware.html</a></li>
                    <li><strong>Slidia Manifest:</strong> <a href="https://github.com/Team-Slide/Slidia" target="_blank">github.com/Team-Slide/Slidia</a></li>
                    <li><strong>Rockbox-y1 Reference:</strong> <a href="https://github.com/rockbox-y1/rockbox" target="_blank">github.com/rockbox-y1/rockbox</a></li>
                </ul>
                <p><strong>Development Tools:</strong></p>
                <ul>
                    <li><strong>Android Studio</strong> - For APK development with API Level 17 support</li>
                    <li><strong>MTKClient</strong> - For low-level device communication and testing</li>
                    <li><strong>SP Flash Tool</strong> - For ROM flashing and testing</li>
                    <li><strong>ADB Tools</strong> - For device communication and debugging</li>
                </ul>
                <div class="success-box">
                    <h4>ü§ù Contributing Guidelines</h4>
                    <p><strong>How to Contribute:</strong></p>
                    <ol>
                        <li><strong>Fork the repository</strong> and create a feature branch</li>
                        <li><strong>Follow coding standards</strong> - Python PEP 8, proper documentation</li>
                        <li><strong>Test thoroughly</strong> - Ensure compatibility across all supported platforms</li>
                        <li><strong>Submit pull request</strong> with detailed description of changes</li>
                        <li><strong>Update documentation</strong> - Include any necessary documentation updates</li>
                    </ol>
                </div>
                </div>
            </div>

        <!-- Rockbox Content -->
        <div class="content-section" id="rockbox-content">
            <h2 class="section-title">Rockbox Music Player & Themes</h2>
            
            <!-- Rockbox Overview -->
            <div class="info-card">
                <h3>üéµ What is Rockbox?</h3>
                <p>Rockbox is an open-source music player firmware that transforms your Y1 into a powerful, customizable music player. It's available as a pre-packaged ROM directly from the Innioasis Updater main screen or the <a href="https://innioasis.app/firmware.html" target="_blank">Firmware Directory</a>.</p>
                <p><strong>Key Features:</strong></p>
                <ul>
                    <li><strong>Advanced audio codec support</strong> - FLAC, OGG, MP3, and many more</li>
                    <li><strong>Customizable themes</strong> - Thousands of themes available</li>
                    <li><strong>Advanced playlist management</strong> - Smart playlists, crossfading, gapless playback</li>
                    <li><strong>Plugin support</strong> - Extend functionality with custom plugins</li>
                    <li><strong>Crossfade and gapless playback</strong> - Professional audio features</li>
                </ul>
                <div class="success-box">
                    <h4>üì¶ Easy Installation</h4>
                    <p>Rockbox-y1 is available as a pre-packaged ROM that installs just like any other firmware through Innioasis Updater. No complex setup required!</p>
                </div>
            </div>

            <!-- Theme Compatibility -->
            <div class="info-card">
                <h3>üé® Theme Compatibility & Installation</h3>
                <p><strong>iPod Classic and iPod Video Theme Support:</strong></p>
                <p>Rockbox-y1 supports themes designed for iPod Classic and iPod Video devices, giving you access to thousands of existing themes. These themes are designed for 240x320 resolution displays, making them perfect for the Y1's screen.</p>
                
                <div class="info-box">
                    <h4>üì± ROM Designations Explained</h4>
                    <p><strong>When choosing Rockbox ROMs in Innioasis Updater, you'll see these designations:</strong></p>
                    <ul>
                        <li><strong>‚úîÔ∏è iPod Themes Compatible:</strong> Full theme support with 240x320 resolution - thousands of iPod Classic/Video themes available with perfect compatibility</li>
                        <li><strong>üü† 360p:</strong> High resolution display with limited theme selection - better for reading text and detailed graphics but requires custom themes</li>
                        <li><strong>üåô Nightly:</strong> Latest development builds with newest features but may be less stable than release versions</li>
                    </ul>
                    <p>Choose <strong>iPod Themes Compatible</strong> for maximum theme variety, or <strong>360p</strong> for higher resolution display with fewer theme options.</p>
                </div>

                <p><strong>Quick Installation Steps:</strong></p>
                <ol>
                    <li><strong>Download theme ZIP files</strong> from <a href="https://themes.rockbox.org/" target="_blank">themes.rockbox.org</a></li>
                    <li><strong>Extract the ZIP file directly to your Y1's root folder</strong> - This places the .rockbox contents in the correct location</li>
                    <li><strong>Overwrite files when prompted</strong> - Always choose "Yes to All" when asked to overwrite existing files</li>
                    <li><strong>Select themes in Rockbox</strong> - Go to Settings ‚Üí Theme ‚Üí Browse Themes</li>
                    <li><strong>Enjoy your new look!</strong> - Switch between themes anytime</li>
                </ol>
                <div class="warning-box">
                    <h4>üì± Display Resolution Note</h4>
                    <p><strong>All Y1 system software runs at 480x360p, but Rockbox themes work differently:</strong></p>
                    <ul>
                        <li><strong>iPod Theme Compatible ROMs:</strong> Rockbox scales up from landscape 240p to maximize compatibility with thousands of iPod Video themes</li>
                        <li><strong>360p Rockbox ROMs:</strong> Native 360p display with a smaller selection of compatible themes</li>
                    </ul>
                    <p>Choose based on your preference: maximum theme variety (iPod compatible) or native high-resolution display (360p).</p>
            </div>
        </div>

            <!-- Theme Installation Methods -->
            <div class="info-card">
                <h3>üõ†Ô∏è Theme Installation Methods</h3>
                <p><strong>There are two ways to install themes on your Y1:</strong></p>
                
                <div class="success-box">
                    <h4>üìÅ Method 1: Manual Installation (Recommended)</h4>
                    <p><strong>This is the most reliable method:</strong></p>
                    <ol>
                        <li><strong>Download theme ZIP files</strong> from <a href="https://themes.rockbox.org/" target="_blank">themes.rockbox.org</a></li>
                        <li><strong>Connect your Y1 to your computer</strong> via USB</li>
                        <li><strong>Extract the ZIP file directly to your Y1's root folder</strong> - Don't extract to a subfolder</li>
                        <li><strong>Overwrite all files when prompted</strong> - This ensures the theme installs correctly</li>
                        <li><strong>Eject your Y1 safely</strong> and restart Rockbox</li>
                    </ol>
                    <p><strong>Why this works:</strong> The ZIP files contain a .rockbox folder that gets merged with your device's existing .rockbox folder, placing themes in the correct location.</p>
                </div>

                <div class="warning-box">
                    <h4>üîß Method 2: Rockbox Utility (FAT32 Only)</h4>
                    <p><strong>Alternative method for FAT32-formatted Y1 devices:</strong></p>
                    <ol>
                        <li><strong>Download Rockbox Utility</strong> from <a href="https://www.rockbox.org/wiki/RockboxUtility" target="_blank">rockbox.org</a></li>
                        <li><strong>Connect your Y1</strong> and open Rockbox Utility</li>
                        <li><strong>Select only "Themes" and "Fonts"</strong> options in the installation settings</li>
                        <li><strong>Choose your themes</strong> and install them</li>
                    </ol>
                    <p><strong>Important:</strong> This method only works if your Y1 is formatted as FAT32. We still recommend manual installation for better control and reliability.</p>
                </div>
            </div>

            <!-- Advanced Features -->
            <div class="info-card">
                <h3>‚öôÔ∏è Advanced Rockbox Features</h3>
                <p><strong>Beyond Basic Music Playback:</strong></p>
                <ul>
                    <li><strong>Customizable UI</strong> - Modify every aspect of the interface</li>
                    <li><strong>Advanced audio settings</strong> - Equalizer, crossfade, gapless playback</li>
                    <li><strong>Plugin system</strong> - Add games, applications, and utilities</li>
                    <li><strong>Database management</strong> - Organize your music library efficiently</li>
                    <li><strong>Remote control support</strong> - Control via ADB when connected to Innioasis Updater</li>
                </ul>
                <p><strong>Developer Resources:</strong></p>
                <ul>
                    <li><strong>Rockbox-y1 Source:</strong> <a href="https://github.com/rockbox-y1/rockbox" target="_blank">github.com/rockbox-y1/rockbox</a></li>
                    <li><strong>Theme Development:</strong> Create custom themes using the Rockbox Theme Editor</li>
                    <li><strong>Plugin Development:</strong> Write custom plugins for enhanced functionality</li>
                </ul>
            </div>

            <!-- Installation Methods -->
            <div class="info-card">
                <h3>üì• Installation Methods</h3>
                <p><strong>Multiple Ways to Get Rockbox-y1:</strong></p>
                <ol>
                    <li><strong>Innioasis Updater (Recommended)</strong> - Install directly from the main screen</li>
                    <li><strong>Firmware Directory</strong> - Download from <a href="https://innioasis.app/firmware.html" target="_blank">innioasis.app/firmware.html</a></li>
                    <li><strong>Advanced Installation</strong> - Download APK from <a href="https://github.com/rockbox-y1/rockbox" target="_blank">GitHub</a> for manual installation</li>
                </ol>
                <p><strong>System Requirements:</strong></p>
                <ul>
                    <li><strong>Innioasis Y1 device</strong> - Any Y1 model supported</li>
                    <li><strong>SD Card recommended</strong> - For storing music and themes</li>
                    <li><strong>USB connection</strong> - For theme installation and file management</li>
                </ul>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è Important Note</h4>
                    <p>Rockbox-y1 replaces the default Android system. Make sure to backup any important data before installation, as the process will wipe the device.</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Created with ‚ù§Ô∏è by <a href="https://github.com/team-slide" target="_blank">Ryan Specter and Team Slide</a> | 
               <a href="https://reddit.com/r/innioasis" target="_blank">r/Innioasis</a> | 
               <a href="https://discord.gg/Timmkoo" target="_blank">Discord</a> | 
               <a href="https://innioasis.app" target="_blank">Add your Apps and Firmwares to Innioasis Updater</a></p>
        </div>
    </div>

    <script>
        // Platform selection
        function selectPlatform(platform) {
            // Hide all content sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove selection from all platform cards
            document.querySelectorAll('.platform-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select the clicked platform
            document.querySelector(`[data-platform="${platform}"]`).classList.add('selected');
            
            // Show appropriate content
            document.getElementById(`${platform}-content`).classList.add('active');
            
            // If it's the users section, also select Windows by default
            if (platform === 'users') {
                selectSubPlatform('windows');
            }
        }

        // Sub-platform selection (for users section)
        function selectSubPlatform(subPlatform) {
            // Hide all sub-content sections
            document.querySelectorAll('.sub-content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove selection from all sub-platform cards
            document.querySelectorAll('[data-subplatform]').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select the clicked sub-platform
            document.querySelector(`[data-subplatform="${subPlatform}"]`).classList.add('selected');
            
            // Show appropriate sub-content
            document.getElementById(`${subPlatform}-sub-content`).classList.add('active');
        }

        // Theme toggle functionality
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            const icon = themeToggle.querySelector('.icon');
            const text = themeToggle.querySelector('span:not(.icon)');
            const currentTheme = localStorage.getItem('theme') || 'auto';
            
            let newTheme;
            if (currentTheme === 'auto') {
                newTheme = 'light';
            } else if (currentTheme === 'light') {
                newTheme = 'dark';
            } else {
                newTheme = 'auto';
            }
            
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        }

        // Apply the specified theme
        function applyTheme(theme) {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            const icon = themeToggle.querySelector('.icon');
            const text = themeToggle.querySelector('span:not(.icon)');
            
            if (theme === 'auto') {
                // Check system preference
                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    body.setAttribute('data-theme', 'dark');
                    icon.textContent = 'üåì';
                    text.textContent = 'Auto';
                } else {
                    body.removeAttribute('data-theme');
                    icon.textContent = 'üåì';
                    text.textContent = 'Auto';
                }
            } else if (theme === 'dark') {
                body.setAttribute('data-theme', 'dark');
                icon.textContent = '‚òÄÔ∏è';
                text.textContent = 'Light';
            } else {
                body.removeAttribute('data-theme');
                icon.textContent = 'üåô';
                text.textContent = 'Dark';
            }
        }

        // Check saved theme preference and system theme
        function checkSavedTheme() {
            const savedTheme = localStorage.getItem('theme') || 'auto';
            applyTheme(savedTheme);
            
            // Listen for system theme changes when in auto mode
            if (savedTheme === 'auto') {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                    if (localStorage.getItem('theme') === 'auto') {
                        if (e.matches) {
                            document.body.setAttribute('data-theme', 'dark');
                        } else {
                            document.body.removeAttribute('data-theme');
                        }
                    }
                });
            }
        }

        // Version parsing logic from firmware.html
        function parseVersionDesignations(versionName) {
            const designations = [];
            
            // Define adjectives that can modify their nearest neighbor
            const adjectives = ['compatible', 'aware', 'supported', 'enabled', 'disabled', 'ready', 'optimized', 'enhanced'];
            
            // Extract only the part after the last dash (this is the actual version number)
            // First remove long hex strings at the end (like -13057e75dc29a1a7!)
            let cleanVersion = versionName.replace(/-[a-f0-9]{16,}!?$/, '');
            // Remove any remaining trailing dashes or exclamation marks
            cleanVersion = cleanVersion.replace(/[-!]+$/, '');
            
            // Extract only the numbers after the last dash
            if (cleanVersion.includes('-')) {
                const lastPart = cleanVersion.split('-').pop();
                // Check if the last part contains only numbers (and possibly dots)
                if (/^[\d.]+$/.test(lastPart)) {
                    cleanVersion = lastPart;
                }
            }
            
            // Split the remaining parts
            const parts = cleanVersion.split('-');
            
            for (let i = 0; i < parts.length; i++) {
                const part = parts[i];
                
                // Skip if it's the version number part
                if (/^[\d.]+$/.test(part)) {
                    continue;
                }
                
                // Skip if it's a hex string
                if (/^[a-f0-9]{16,}!?$/.test(part)) {
                    continue;
                }
                
                // Check for iPod theme compatibility
                if (part.toLowerCase().includes('ipod') && i + 1 < parts.length) {
                    const nextPart = parts[i + 1];
                    if (nextPart.toLowerCase().includes('theme')) {
                        if (i + 2 < parts.length && adjectives.includes(parts[i + 2])) {
                            const adjective = parts[i + 2];
                            designations.push({
                                type: 'ipod-theme',
                                text: `iPod Themes ${adjective.charAt(0).toUpperCase() + adjective.slice(1)}`
                            });
                        } else {
                            designations.push({
                                type: 'ipod-theme',
                                text: 'iPod Themes'
                            });
                        }
                    }
                } else if (part.toLowerCase().includes('360p')) {
                    designations.push({
                        type: 'resolution',
                        text: '360p'
                    });
                } else if (part.toLowerCase().includes('nightly')) {
                    designations.push({
                        type: 'build-type',
                        text: 'Nightly'
                    });
                } else if (part.toLowerCase().includes('stable')) {
                    designations.push({
                        type: 'build-type',
                        text: 'Stable'
                    });
                } else if (!adjectives.includes(part)) {
                    // Just add the part as-is, capitalized
                    designations.push({
                        type: 'generic',
                        text: part.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())
                    });
                }
            }
            
            return {
                version: cleanVersion,
                designations: designations
            };
        }

        function getDisplayVersion(versionInfo, publishedAt) {
            const date = new Date(publishedAt);
            const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const dayName = dayNames[date.getDay()];
            
            // For nightly builds, show day name
            if (versionInfo.designations.some(d => d.text === 'Nightly')) {
                return dayName;
            }
            
            // For stable releases, show version number
            return versionInfo.version;
        }

        // Real ROM data from firmware.html with parsed versions
        const realRomData = [
            {
                name: "Original Software",
                device_type: "A",
                device: "Y1",
                repo: "team-slide/y1-stock-rom",
                type: "img",
                releases: [
                    {
                        tag_name: "2.1.9",
                        name: "2.1.9",
                        published_at: "2024-07-15T00:00:00Z",
                        size: 154.8,
                        badges: ["Latest Release"]
                    },
                    {
                        tag_name: "2.1.7",
                        name: "2.1.7",
                        published_at: "2024-06-20T00:00:00Z",
                        size: 154.8,
                        badges: ["Previous Release"]
                    }
                ]
            },
            {
                name: "Rockbox ROM",
                device_type: "A",
                device: "Y1",
                repo: "rockbox-y1/rockbox",
                type: "nightly",
                releases: [
                    {
                        tag_name: "2024-12-20-nightly-ipod-themes-compatible",
                        name: "Friday",
                        published_at: "2024-12-20T00:00:00Z",
                        size: 283.1,
                        badges: ["Nightly | ‚úÖ iPod Themes Compatible"]
                    },
                    {
                        tag_name: "2024-12-20-nightly-360p",
                        name: "Friday",
                        published_at: "2024-12-20T00:00:00Z",
                        size: 285.7,
                        badges: ["Nightly | üü† 360p"]
                    },
                    {
                        tag_name: "2024-12-19-nightly-ipod-themes-compatible",
                        name: "Thursday",
                        published_at: "2024-12-19T00:00:00Z",
                        size: 282.8,
                        badges: ["Nightly | ‚úÖ iPod Themes Compatible"]
                    },
                    {
                        tag_name: "2024-12-19-nightly-360p",
                        name: "Thursday",
                        published_at: "2024-12-19T00:00:00Z",
                        size: 284.3,
                        badges: ["Nightly | üü† 360p"]
                    },
                    {
                        tag_name: "2024-12-17-nightly-ipod-themes-compatible",
                        name: "Tuesday",
                        published_at: "2024-12-17T00:00:00Z",
                        size: 281.9,
                        badges: ["Nightly | ‚úÖ iPod Themes Compatible"]
                    }
                ]
            },
            {
                name: "Original Software",
                device_type: "A",
                device: "Y1",
                repo: "team-slide/Innioasis-Updater",
                type: "stable",
                releases: [
                    {
                        tag_name: "2.1.9",
                        name: "2.1.9",
                        published_at: "2024-07-15T00:00:00Z",
                        size: 156.2,
                        badges: ["Stable Release"],
                        released: "Jul 2025"
                    },
                    {
                        tag_name: "2.1.7",
                        name: "2.1.7",
                        published_at: "2024-06-20T00:00:00Z",
                        size: 154.8,
                        badges: ["Previous Release"],
                        released: "Jun 2025"
                    }
                ]
            }
        ];

        // Platform detection
        function detectPlatform() {
            const userAgent = navigator.userAgent.toLowerCase();
            if (userAgent.includes('mac')) return 'mac';
            if (userAgent.includes('win')) return 'windows';
            return 'mac'; // default to mac
        }

        // Interactive Installation Demo
        function startInstallDemo() {
            if (isInstalling) return;
            
            isInstalling = true;
            const statusElement = document.getElementById('status-text');
            const gettingReadyElement = document.getElementById('getting-ready-section');
            const downloadBtn = document.getElementById('download-btn');
            
            if (!statusElement || !gettingReadyElement || !downloadBtn) return;
            
            // Disable the download button
            downloadBtn.disabled = true;
            downloadBtn.textContent = 'Downloading...';
            
            // Hide the left panel during installation
            const leftPanel = document.querySelector('.app-left-panel');
            const rightPanel = document.querySelector('.app-right-panel');
            if (leftPanel && rightPanel) {
                leftPanel.style.display = 'none';
                rightPanel.style.width = '100%';
            }
            
            // Get selected ROM data
            let selectedRelease;
            let romSize = 50; // Default size in MB
            
            if (realFirmwareData.length > 0) {
                // Use real data
                const filteredReleases = realFirmwareData.filter(release => {
                    const deviceType = document.getElementById('device-type-select')?.value || 'A';
                    const software = document.getElementById('software-select')?.value || 'Original Software';
                    const typeMatch = !deviceType || release.device_type === deviceType;
                    const softwareMatch = !software || release.software_name === software;
                    return typeMatch && softwareMatch;
                });
                
                selectedRelease = filteredReleases[currentSelectedRom] || filteredReleases[0];
                if (selectedRelease && selectedRelease.assets && selectedRelease.assets[0]) {
                    romSize = Math.round(selectedRelease.assets[0].size / (1024 * 1024)); // Convert bytes to MB
                }
            } else {
                // Fallback to mock data
                const mockRom = realRomData[0];
                selectedRelease = mockRom.releases[currentSelectedRom] || mockRom.releases[0];
                romSize = selectedRelease.size;
            }
            const platform = detectPlatform();
            
            // Calculate download time at 1Gbps (125 MB/s)
            const downloadSpeed = 125; // MB/s
            const downloadTime = Math.ceil(romSize / downloadSpeed); // seconds
            
            // Get the correct image path based on platform and step
            function getImagePath(imageType) {
                if (imageType === 'initsteps') {
                    return platform === 'windows' ? 'https://innioasis.app/mtkclient/gui/images/initsteps_win.png' : 'https://innioasis.app/mtkclient/gui/images/initsteps.png';
                }
                return `https://innioasis.app/mtkclient/gui/images/${imageType}.png`;
            }

            // Get the correct initsteps image based on platform and method
            function getInitStepsImage() {
                if (platform === 'windows') {
                    return currentInstallMethod === 'method1' ? 'initsteps_sp' : 'initsteps_win';
                }
                return 'initsteps';
            }
            
            // Installation steps based on actual firmware_downloader.py process
            const releaseName = selectedRelease?.name || selectedRelease?.tag_name || 'Unknown Release';
            const installSteps = [
                { status: 'Downloading...', message: `Downloading ${releaseName}...`, delay: 500, image: 'presteps', showText: 'Starting download...', progress: 0 },
                { status: 'Downloading...', message: `Downloading... 25% (${(romSize * 0.25).toFixed(1)}MB / ${romSize}MB)`, delay: 300, image: 'presteps', showText: 'Downloading firmware...', progress: 25 },
                { status: 'Downloading...', message: `Downloading... 50% (${(romSize * 0.5).toFixed(1)}MB / ${romSize}MB)`, delay: 300, image: 'presteps', showText: 'Downloading firmware...', progress: 50 },
                { status: 'Downloading...', message: `Downloading... 75% (${(romSize * 0.75).toFixed(1)}MB / ${romSize}MB)`, delay: 300, image: 'presteps', showText: 'Downloading firmware...', progress: 75 },
                { status: 'Downloading...', message: `Downloading... 100% (${romSize}MB / ${romSize}MB) - Complete!`, delay: 200, image: 'presteps', showText: 'Download complete!', progress: 100 },
                { status: 'Processing...', message: 'Extracting rom.zip...', delay: 800, image: 'presteps', showText: 'Extracting firmware files...' },
                { status: 'Processing...', message: 'Verifying firmware integrity...', delay: 600, image: 'presteps', showText: 'Verifying firmware...' },
                { status: 'Dialog...', message: 'Please disconnect USB from Y1', delay: 0, image: 'presteps', showText: 'Disconnect USB', dialog: { title: 'Disconnect USB', message: 'Please disconnect the USB from your Y1 and press OK, then follow the next instructions.', icon: '‚ö†Ô∏è' } },
                { status: 'Preparing...', message: 'Follow the instructions below to prepare your Y1 for installation...', delay: Math.floor(Math.random() * 8000) + 7000, image: getInitStepsImage(), showText: 'Follow the instructions below to prepare your Y1 for installation...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Connecting to device...`, delay: 1500, image: 'installing', showText: 'Connecting to device...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Loading preloader...`, delay: 1200, image: 'installing', showText: 'Loading preloader...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Flashing boot partition...`, delay: 2000, image: 'installing', showText: 'Flashing boot partition...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Flashing system partition...`, delay: 2500, image: 'installing', showText: 'Flashing system partition...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Flashing recovery partition...`, delay: 1500, image: 'installing', showText: 'Flashing recovery partition...' },
                { status: 'Installing...', message: `${platform === 'windows' ? 'SP Flash Tool' : 'MTKClient'}: Finalizing installation...`, delay: 1200, image: 'installing', showText: 'Finalizing installation...' },
                { status: 'Completed!', message: 'Installation completed successfully!', delay: 3000, image: 'installed', showText: 'Installation completed successfully!', collapseLeft: true }
            ];
            
            let currentStep = 0;
            
            function runNextStep() {
                if (currentStep >= installSteps.length) {
                    // Installation complete - wait longer before reset
                    setTimeout(() => {
                        resetPanelLayout();
                        statusElement.textContent = 'Ready';
                        downloadBtn.disabled = false;
                        downloadBtn.textContent = 'Download';
                        isInstalling = false;
                        
                        // Hide progress bar
                        const progressContainer = document.getElementById('progress-container');
                        if (progressContainer) {
                            progressContainer.style.display = 'none';
                        }
                        
                        gettingReadyElement.innerHTML = `
                            <strong>Getting Ready:</strong>
                            <div class="app-instruction-image">
                                <img src="https://innioasis.app/mtkclient/gui/images/presteps.png" alt="Installation instructions" class="app-main-image">
                            </div>
                        `;
                    }, 4000); // Wait 4 seconds before reset
                    return;
                }
                
                const step = installSteps[currentStep];
                
                // Handle dialog steps
                if (step.dialog) {
                    statusElement.textContent = step.message || step.status;
                    showInstallDialog(step.dialog.title, step.dialog.message, step.dialog.icon);
                    
                    // Set up continuation function
                    window.continueInstallation = () => {
                        currentStep++;
                        runNextStep();
                    };
                    return;
                }
                
                statusElement.textContent = step.message || step.status;
                
                // Show/hide progress bar based on step
                const progressContainer = document.getElementById('progress-container');
                const progressFill = document.getElementById('progress-fill');
                const progressText = document.getElementById('progress-text');
                const progressDetails = document.getElementById('progress-details');
                
                if (step.progress !== undefined) {
                    // This is a download step - show progress bar
                    if (progressContainer) {
                        progressContainer.style.display = 'block';
                        progressFill.style.width = step.progress + '%';
                        progressText.textContent = step.status;
                        progressDetails.textContent = step.message;
                    }
                } else {
                    // Not a download or initsteps step - hide progress bar
                    if (progressContainer) {
                        progressContainer.style.display = 'none';
                    }
                }
                
                // Collapse left panel when installation starts
                if (step.collapseLeft) {
                    const leftPanel = document.querySelector('.app-left-panel');
                    const rightPanel = document.querySelector('.app-right-panel');
                    if (leftPanel && rightPanel) {
                        leftPanel.style.display = 'none';
                        rightPanel.style.width = '100%';
                    }
                }
                
                // Update the getting ready section with progress and proper image sequence
                const imagePath = getImagePath(step.image);
                const textFallback = step.showText || step.message;
                
                gettingReadyElement.innerHTML = `
                    <strong>${step.status === 'Completed!' ? 'Installation Complete!' : 'Getting Ready:'}</strong>
                    <div class="app-instruction-image">
                        <img src="${imagePath}" alt="${textFallback}" class="app-main-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div class="app-text-fallback" style="display: none; padding: 20px; background: var(--bg-tertiary); border-radius: 8px; text-align: center;">
                            <h4>${textFallback}</h4>
                            <p>${step.message}</p>
                        </div>
                    </div>
                `;
                
                currentStep++;
                setTimeout(runNextStep, step.delay);
            }
            
            // Start the demo
            runNextStep();
        }

        // Enhanced app demo with interactive features
        let currentSelectedRom = 0;
        let currentInstallMethod = 'method1';
        let isInstalling = false;
        let apiTokens = [];
        let realFirmwareData = [];

        // Parse version designations (copied from firmware.html)
        function parseVersionDesignations(versionName) {
            const designations = [];
            
            // Define adjectives that can modify their nearest neighbor
            const adjectives = ['compatible', 'aware', 'supported', 'enabled', 'disabled', 'ready', 'optimized', 'enhanced'];
            
            // Extract only the part after the last dash (this is the actual version number)
            // First remove long hex strings at the end (like -13057e75dc29a1a7!)
            let cleanVersion = versionName.replace(/-[a-f0-9]{16,}!?$/, '');
            // Remove any remaining trailing dashes or exclamation marks
            cleanVersion = cleanVersion.replace(/[-!]+$/, '');
            
            // Extract only the numbers after the last dash
            if (cleanVersion.includes('-')) {
                const lastPart = cleanVersion.split('-').pop();
                // Check if the last part contains only numbers (and possibly dots)
                if (/^[\d.]+$/.test(lastPart)) {
                    cleanVersion = lastPart;
                }
            }
            
            // Parse designations from the original version name
            // Split by dashes and process each part
            const parts = versionName.split('-');
            
            for (let i = 0; i < parts.length; i++) {
                const part = parts[i];
                
                // Skip if it's the version number part
                if (/^[\d.]+$/.test(part)) {
                    continue;
                }
                
                // Skip if it's a hex string
                if (/^[a-f0-9]{16,}!?$/.test(part)) {
                    continue;
                }
                
                // Handle special cases first
                if (part === 'nightly') {
                    designations.push({
                        type: 'nightly',
                        text: 'Nightly'
                    });
                } else if (part === '360p') {
                    designations.push({
                        type: '360p',
                        text: '360p'
                    });
                } else if (part === 'wifi' || part === 'wi-fi') {
                    designations.push({
                        type: 'wifi',
                        text: 'Wi-Fi'
                    });
                } else if (part === 'bluetooth') {
                    designations.push({
                        type: 'bluetooth',
                        text: 'Bluetooth'
                    });
                } else if (part === 'usb') {
                    designations.push({
                        type: 'usb',
                        text: 'USB'
                    });
                } else if (part === 'ethernet') {
                    designations.push({
                        type: 'ethernet',
                        text: 'Ethernet'
                    });
                } else if (part === 'hdmi') {
                    designations.push({
                        type: 'hdmi',
                        text: 'HDMI'
                    });
                } else if (part === 'audio') {
                    designations.push({
                        type: 'audio',
                        text: 'Audio'
                    });
                } else if (part === 'video') {
                    designations.push({
                        type: 'video',
                        text: 'Video'
                    });
                } else if (part === 'camera') {
                    designations.push({
                        type: 'camera',
                        text: 'Camera'
                    });
                } else if (part === 'gps') {
                    designations.push({
                        type: 'gps',
                        text: 'GPS'
                    });
                } else if (part === 'nfc') {
                    designations.push({
                        type: 'nfc',
                        text: 'NFC'
                    });
                } else if (part === 'lte') {
                    designations.push({
                        type: 'lte',
                        text: 'LTE'
                    });
                } else if (part === '5g') {
                    designations.push({
                        type: '5g',
                        text: '5G'
                    });
                } else if (part === 'ipod-theme') {
                    // Check if this part is followed by an adjective
                    if (i + 2 < parts.length && adjectives.includes(parts[i + 2])) {
                        // Check for adjective after "ipod-theme"
                        const adjective = parts[i + 2];
                        designations.push({
                            type: 'ipod-theme',
                            text: `iPod Themes ${adjective.charAt(0).toUpperCase() + adjective.slice(1)}`
                        });
                    } else {
                        designations.push({
                            type: 'ipod-theme',
                            text: 'iPod Themes'
                        });
                    }
                } else {
                    // Check if this part is followed by an adjective
                    if (i + 1 < parts.length && adjectives.includes(parts[i + 1])) {
                        const adjective = parts[i + 1];
                        // Capitalize the main part and add the adjective
                        const mainPart = part.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                        designations.push({
                            type: 'generic',
                            text: `${mainPart} ${adjective.charAt(0).toUpperCase() + adjective.slice(1)}`
                        });
                    } else {
                        // Just add the part as-is, capitalized
                        if (!adjectives.includes(part)) { // Don't add standalone adjectives
                            designations.push({
                                type: 'generic',
                                text: part.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())
                            });
                        }
                    }
                }
            }
            
            return designations;
        }

        // Load API tokens from config.ini
        async function loadApiTokens() {
            try {
                const response = await fetch('https://innioasis.app/config.ini');
                if (!response.ok) {
                    console.warn('Could not load config.ini, using unauthenticated API calls only');
                    return [];
                }
                
                const configText = await response.text();
                const tokens = [];
                const lines = configText.split('\n');
                
                for (const line of lines) {
                    const trimmed = line.trim();
                    if (trimmed.startsWith('key_') && trimmed.includes('=')) {
                        const token = trimmed.split('=')[1].trim();
                        if (token && token.length > 10) {
                            tokens.push(token);
                        }
                    }
                }
                
                console.log(`Loaded ${tokens.length} API tokens from config.ini`);
                return tokens;
            } catch (error) {
                console.warn('Error loading config.ini:', error);
                return [];
            }
        }

        // Fetch releases from GitHub API
        async function fetchGitHubReleases(repo) {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 second timeout
            
            try {
                // First try unauthenticated request
                let response = await fetch(`https://api.github.com/repos/${repo}/releases`, {
                    headers: {
                        'Accept': 'application/vnd.github.v3+json'
                    },
                    signal: controller.signal
                });
                
                // If rate limited and we have tokens, try with authentication
                if (response.status === 403 && apiTokens.length > 0) {
                    console.log(`Rate limited for ${repo}, trying with authentication...`);
                    const randomToken = apiTokens[Math.floor(Math.random() * apiTokens.length)];
                    response = await fetch(`https://api.github.com/repos/${repo}/releases`, {
                        headers: {
                            'Authorization': `token ${randomToken}`,
                            'Accept': 'application/vnd.github.v3+json'
                        },
                        signal: controller.signal
                    });
                }
                
                clearTimeout(timeoutId);
                
                if (!response.ok) {
                    throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);
                }
                
                return await response.json();
            } catch (error) {
                clearTimeout(timeoutId);
                if (error.name === 'AbortError') {
                    throw new Error(`Request timeout for ${repo}`);
                }
                throw error;
            }
        }

        // Load real firmware data from slidia manifest
        async function loadRealFirmwareData() {
            try {
                // Load slidia manifest
                const manifestResponse = await fetch('https://raw.githubusercontent.com/team-slide/slidia/refs/heads/main/slidia_manifest.xml');
                if (!manifestResponse.ok) {
                    throw new Error('Failed to load slidia manifest');
                }
                
                const manifestText = await manifestResponse.text();
                const packages = parseSlidiaManifest(manifestText);
                
                const allReleases = [];
                
                for (const pkg of packages) {
                    try {
                        const releases = await fetchGitHubReleases(pkg.repo);
                        console.log(`Fetched ${releases.length} releases from ${pkg.repo}`);
                        releases.forEach(release => {
                            // Only include releases that have rom.zip assets
                            const hasRomZip = release.assets && release.assets.some(asset => 
                                asset.name.toLowerCase().includes('rom.zip') || 
                                (asset.name.toLowerCase().includes('rom') && asset.name.toLowerCase().includes('.zip'))
                            );
                            
                            // Skip releases without rom.zip or with unwanted keywords
                            if (!hasRomZip || 
                                release.name.toLowerCase().includes('voice') ||
                                release.name.toLowerCase().includes('voices') ||
                                release.name.toLowerCase().includes('theme') ||
                                release.name.toLowerCase().includes('themes') ||
                                release.name.toLowerCase().includes('font') ||
                                release.name.toLowerCase().includes('fonts') ||
                                release.name.toLowerCase().includes('sound') ||
                                release.name.toLowerCase().includes('sounds') ||
                                release.tag_name.toLowerCase().includes('voice') ||
                                release.tag_name.toLowerCase().includes('voices') ||
                                release.tag_name.toLowerCase().includes('theme') ||
                                release.tag_name.toLowerCase().includes('themes') ||
                                release.tag_name.toLowerCase().includes('font') ||
                                release.tag_name.toLowerCase().includes('fonts') ||
                                release.tag_name.toLowerCase().includes('sound') ||
                                release.tag_name.toLowerCase().includes('sounds')) {
                                return;
                            }
                            
                            const releaseData = {
                                ...release,
                                software_name: pkg.name,
                                device_type: pkg.device_type,
                                device_model: pkg.device,
                                type: pkg.type,
                                handler: pkg.handler
                            };
                            allReleases.push(releaseData);
                        });
                    } catch (error) {
                        console.warn(`Failed to load releases for ${pkg.repo}:`, error);
                    }
                }
                
                console.log(`Loaded ${allReleases.length} real releases from GitHub`);
                return allReleases;
            } catch (error) {
                console.error('Error loading real firmware data:', error);
                return [];
            }
        }

        // Parse slidia manifest XML
        function parseSlidiaManifest(xmlText) {
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
            const packageElements = xmlDoc.querySelectorAll('package');
            
            const packages = [];
            for (let pkg of packageElements) {
                packages.push({
                    name: pkg.getAttribute('name') || 'Unknown',
                    device_type: pkg.getAttribute('device_type') || '',
                    repo: pkg.getAttribute('repo') || '',
                    device: pkg.getAttribute('device') || '',
                    url: pkg.getAttribute('url') || '',
                    type: pkg.getAttribute('type') || '',
                    handler: pkg.getAttribute('handler') || ''
                });
            }
            
            return packages;
        }

        function initializeAppDemo() {
            const platform = detectPlatform();
            const appWindow = document.getElementById('app-window-demo');
            
            if (appWindow) {
                appWindow.className = `app-window ${platform}`;
            }
            
            // Load API tokens and real data
            loadApiTokens().then(tokens => {
                apiTokens = tokens;
                return loadRealFirmwareData();
            }).then(data => {
                realFirmwareData = data;
                updateRomList();
            }).catch(error => {
                console.error('Error initializing app demo:', error);
                updateRomList(); // Fallback to mock data
            });
            
            // Add event listeners for interactive features
            setupInteractiveFeatures();
            
            // Show/hide Windows-only settings based on platform
            const windowsOnlySection = document.getElementById('windows-only-section');
            if (windowsOnlySection) {
                windowsOnlySection.style.display = platform === 'windows' ? 'block' : 'none';
            }
        }

        function updateRomList() {
            const romList = document.getElementById('app-rom-list');
            if (!romList) return;
            
            // Get current filter values
            const deviceType = document.getElementById('device-type-select')?.value || 'A';
            const software = document.getElementById('software-select')?.value || 'Original Software';
            
            // Filter releases based on current selections
            let filteredReleases = [];
            
            if (realFirmwareData && realFirmwareData.length > 0) {
                // Use real data from GitHub
                filteredReleases = realFirmwareData.filter(release => {
                    const typeMatch = !deviceType || release.device_type === deviceType;
                    const softwareMatch = !software || release.software_name === software;
                    return typeMatch && softwareMatch;
                }).slice(0, 10); // Limit to 10 most recent
            } else {
                // Fallback to mock data
                console.log('Using mock data as fallback - no real data available');
                const mockRom = realRomData[0];
                filteredReleases = mockRom.releases.map((release, index) => ({
                    ...release,
                    software_name: mockRom.name,
                    device_type: 'A',
                    device_model: 'Y1'
                }));
            }
            
            romList.innerHTML = '';
            
            if (filteredReleases.length === 0) {
                romList.innerHTML = '<div class="app-rom-item">No releases found</div>';
                return;
            }
            
            filteredReleases.forEach((release, index) => {
                const romItem = document.createElement('div');
                romItem.className = `app-rom-item ${index === currentSelectedRom ? 'selected' : ''}`;
                romItem.onclick = () => selectRom(index);
                
                // Use badges from mock data if available, otherwise parse designations
                let badges = '';
                if (release.badges && release.badges.length > 0) {
                    badges = release.badges.join(' | ');
                } else {
                    // Parse version designations for real data
                    const designations = parseVersionDesignations(release.tag_name || release.name);
                    badges = designations.map(d => {
                        let text = d.text;
                        // Add emojis based on designation type
                        if (d.type === 'ipod-theme') {
                            text = `‚úÖ ${text}`;
                        } else if (d.type === '360p') {
                            text = `üü† ${text}`;
                        } else if (d.type === 'nightly') {
                            text = `üåô ${text}`;
                        } else if (d.type === 'stable') {
                            text = `‚≠ê ${text}`;
                        }
                        return text;
                    }).join(' | ');
                }
                
                // Format date
                const date = new Date(release.published_at || Date.now());
                const dayName = date.toLocaleDateString('en-US', { weekday: 'long' });
                
                romItem.innerHTML = `
                    <span class="app-rom-day">${dayName}</span>
                    <span class="app-rom-info">Software: ${release.software_name || 'Unknown'}</span>
                    <span class="app-rom-badge">${badges || 'Release'}</span>
                `;
                
                romList.appendChild(romItem);
            });
            
            // Update download button text based on software type
            const downloadBtn = document.getElementById('download-btn');
            if (downloadBtn) {
                if (software.toLowerCase().includes('original')) {
                    downloadBtn.textContent = 'Download (Update / Restore)';
                } else {
                    downloadBtn.textContent = 'Download';
                }
            }
        }

        function selectRom(index) {
            currentSelectedRom = index;
            updateRomList();
        }

        function setupInteractiveFeatures() {
            // Add event listeners for dropdowns
            const deviceTypeSelect = document.getElementById('device-type-select');
            const softwareSelect = document.getElementById('software-select');
            
            if (deviceTypeSelect) {
                deviceTypeSelect.addEventListener('change', () => {
                    currentSelectedRom = 0; // Reset selection
                    updateRomList();
                });
            }
            
            if (softwareSelect) {
                softwareSelect.addEventListener('change', () => {
                    currentSelectedRom = 0; // Reset selection
                    updateRomList();
                });
            }
        }

        function openSettingsModal() {
            const modal = document.getElementById('settings-modal');
            if (modal) {
                modal.style.display = 'flex';
                
                // Initialize dropdown with current method
                const methodSelect = document.getElementById('install-method-select');
                if (methodSelect) {
                    methodSelect.value = currentInstallMethod;
                }
            }
        }

        function closeSettingsModal() {
            const modal = document.getElementById('settings-modal');
            if (modal) {
                modal.style.display = 'none';
            }
        }

        // Installation Dialog Functions
        function showInstallDialog(title, message, icon = '‚ö†Ô∏è') {
            const dialog = document.getElementById('install-dialog');
            const dialogTitle = document.getElementById('dialog-title');
            const dialogMessage = document.getElementById('dialog-message');
            const dialogIcon = document.getElementById('dialog-icon');
            
            if (dialog && dialogTitle && dialogMessage && dialogIcon) {
                dialogTitle.textContent = title;
                dialogMessage.textContent = message;
                dialogIcon.textContent = icon;
                dialog.style.display = 'flex';
            }
        }

        function closeInstallDialog() {
            const dialog = document.getElementById('install-dialog');
            if (dialog) {
                dialog.style.display = 'none';
            }
        }

        function confirmInstallDialog() {
            closeInstallDialog();
            // Continue with installation
            if (window.continueInstallation) {
                window.continueInstallation();
            }
        }

        function showDeviceTypeDialog() {
            const dialog = document.getElementById('device-type-dialog');
            if (dialog) {
                dialog.style.display = 'flex';
            }
        }

        function closeDeviceTypeDialog() {
            const dialog = document.getElementById('device-type-dialog');
            if (dialog) {
                dialog.style.display = 'none';
            }
        }

        function saveSettings() {
            const methodSelect = document.getElementById('install-method-select');
            
            if (methodSelect) {
                currentInstallMethod = methodSelect.value;
            }
            
            closeSettingsModal();
        }

        function launchY1RemoteControl() {
            alert('Y1 Remote Control would launch here. This is a simulation.');
        }

        function checkForUtilityUpdates() {
            alert('Checking for utility updates... This is a simulation.');
        }

        function switchSettingsTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.app-modal-tab-content');
            tabContents.forEach(content => {
                content.style.display = 'none';
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.app-modal-tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function expandRightPanel() {
            const appWindow = document.getElementById('app-window-demo');
            const leftPanel = document.getElementById('app-left-panel');
            const rightPanel = document.getElementById('app-right-panel');
            
            if (appWindow && leftPanel && rightPanel) {
                appWindow.classList.add('installation-mode');
                leftPanel.classList.add('hidden');
                rightPanel.classList.add('expanded');
            }
        }

        function resetPanelLayout() {
            const appWindow = document.getElementById('app-window-demo');
            const leftPanel = document.querySelector('.app-left-panel');
            const rightPanel = document.querySelector('.app-right-panel');
            
            if (appWindow && leftPanel && rightPanel) {
                appWindow.classList.remove('installation-mode');
                leftPanel.style.display = 'block';
                rightPanel.style.width = '70%';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            checkSavedTheme();
            
            // Start with users section selected
            selectPlatform('users');
            
            // Initialize app demo
            initializeAppDemo();
        });
    </script>
</body>
</html>
